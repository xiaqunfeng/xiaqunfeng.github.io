<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="å¤å¤©çš„é£" />



<meta name="description" content="æ€»ç»“åˆ†æpeeringè¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°ï¼Œä»‹ç»peeringçš„å„ä¸ªé˜¶æ®µå’ŒçŠ¶æ€è½¬æ¢ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ceph peeringè¿‡ç¨‹åˆ†æ">
<meta property="og:url" content="http://xiaqunfeng.cc/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/index.html">
<meta property="og:site_name" content="å¤å¤©çš„é£çš„åšå®¢">
<meta property="og:description" content="æ€»ç»“åˆ†æpeeringè¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°ï¼Œä»‹ç»peeringçš„å„ä¸ªé˜¶æ®µå’ŒçŠ¶æ€è½¬æ¢ã€‚">
<meta property="og:image" content="http://oow6unnib.bkt.clouddn.com/FullSizeRender%204.jpg">
<meta property="og:image" content="http://oow6unnib.bkt.clouddn.com/peering.png">
<meta property="og:updated_time" content="2017-08-01T09:01:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ceph peeringè¿‡ç¨‹åˆ†æ">
<meta name="twitter:description" content="æ€»ç»“åˆ†æpeeringè¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°ï¼Œä»‹ç»peeringçš„å„ä¸ªé˜¶æ®µå’ŒçŠ¶æ€è½¬æ¢ã€‚">
<meta name="twitter:image" content="http://oow6unnib.bkt.clouddn.com/FullSizeRender%204.jpg">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="å¤å¤©çš„é£çš„åšå®¢" type="application/atom+xml">



    <link rel="shortcut icon" href="/red_apple.ico">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>ceph peeringè¿‡ç¨‹åˆ†æ | å¤å¤©çš„é£çš„åšå®¢</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>





    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?2eeeeb98562c97f7d79f13899ec599cd";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/stark.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">å¤å¤©çš„é£</a></h1>
        </hgroup>

        
        <p class="header-subtitle">å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ğŸ˜</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="true" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>èœå•</li>
                        <li>æ ‡ç­¾</li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">ä¸»é¡µ</a></li>
                        
                            <li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
                        
                            <li><a href="/tags/">æ ‡ç­¾äº‘</a></li>
                        
                            <li><a href="/about/">å…³äºæˆ‘</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" href="https://github.com/xiaqunfeng" title="GitHub"></a>
                            
                                <a class="fa CSDN" href="http://blog.csdn.net/xiaqunfeng123" title="CSDN"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/caffe/">caffe</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos/">centos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ceph/">ceph</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/">cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/code/">code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deeplearning/">deeplearning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ganesha/">ganesha</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/">machine learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paper/">paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rocksdb/">rocksdb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/storage/">storage</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li></ul>
                    </div>
                </section>
                
                
                

                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="å›åˆ°ä¸»é¡µ">å¤å¤©çš„é£</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/stark.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="å›åˆ°ä¸»é¡µ">å¤å¤©çš„é£</a></h1>
            </hgroup>
            
            <p class="header-subtitle">å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ğŸ˜</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">ä¸»é¡µ</a></li>
                
                    <li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
                
                    <li><a href="/tags/">æ ‡ç­¾äº‘</a></li>
                
                    <li><a href="/about/">å…³äºæˆ‘</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/xiaqunfeng" title="GitHub"></a>
                            
                                <a class="fa CSDN" target="_blank" href="http://blog.csdn.net/xiaqunfeng123" title="CSDN"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="æ ‡ç­¾" friends="å‹æƒ…é“¾æ¥" about="å…³äºæˆ‘"/>
</nav>
      <div class="body-wrap"><article id="post-ceph-peeringè¿‡ç¨‹åˆ†æ" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/" class="article-date">
      <time datetime="2017-08-01T08:47:05.000Z" itemprop="datePublished">2017-08-01</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ceph peeringè¿‡ç¨‹åˆ†æ
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ceph/">ceph</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>æ€»ç»“åˆ†æpeeringè¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°ï¼Œä»‹ç»peeringçš„å„ä¸ªé˜¶æ®µå’ŒçŠ¶æ€è½¬æ¢ã€‚<br><a id="more"></a></p>
<p>peeringè¿‡ç¨‹ä½¿å¾—ä¸€ä¸ªPGå†…çš„OSDè¾¾æˆä¸€ä¸ªä¸€è‡´çŠ¶æ€ã€‚å½“ä¸»ä»å‰¯æœ¬è¾¾æˆä¸€ä¸ªä¸€è‡´çŠ¶æ€åï¼ŒPGå¤„äºactiveçŠ¶æ€ï¼Œpeeringè¿‡ç¨‹çš„çŠ¶æ€å°±ç»“æŸäº†ã€‚ä½†æ­¤æ—¶è¯¥PGçš„ä¸‰ä¸ªOSDçš„æ•°æ®å‰¯æœ¬ä¸Šçš„æ•°æ®å¹¶éå®Œå…¨ä¸€è‡´ã€‚</p>
<p>äº’ä¸ºå‰¯æœ¬çš„å‰¯æœ¬æ•°ä¸ª PG çš„å…ƒæ•°æ®è¾¾åˆ°ä¸€è‡´çš„è¿‡ç¨‹ã€‚å®˜æ–¹è§£é‡Š</p>
<blockquote>
<p>the process of bringing all of the OSDs that store a Placement Group (PG) into agreement about the state of all of the objects (and their metadata) in that PG. Note that agreeing on the state does not mean that they all have the latest contents.</p>
</blockquote>
<h2 id="è§¦å‘åœºæ™¯"><a href="#è§¦å‘åœºæ™¯" class="headerlink" title="è§¦å‘åœºæ™¯"></a>è§¦å‘åœºæ™¯</h2><p>å½“ç³»ç»Ÿåˆå§‹åŒ–æ—¶ï¼ŒOSDé‡æ–°å¯åŠ¨å¯¼è‡´PGé‡æ–°åŠ è½½ï¼Œæˆ–è€…PGåˆ›å»ºæ—¶ï¼ŒPGä¼šå‘ç”Ÿä¸€æ¬¡peeringè¿‡ç¨‹ã€‚</p>
<p>å½“æœ‰OSDå¤±æ•ˆï¼ŒOSDçš„å¢åŠ æˆ–è€…åˆ é™¤ç­‰å¯¼è‡´PGçš„acting setå‘ç”Ÿäº†å˜åŒ–ï¼Œè¯¥PGå°±ä¼šé‡æ–°å‘èµ·ä¸€æ¬¡peeringè¿‡ç¨‹ã€‚</p>
<h2 id="ä¸€äº›æ¦‚å¿µ"><a href="#ä¸€äº›æ¦‚å¿µ" class="headerlink" title="ä¸€äº›æ¦‚å¿µ"></a>ä¸€äº›æ¦‚å¿µ</h2><p>acting set å’Œ up set</p>
<p>ä¸´æ—¶ PG</p>
<p>æƒå¨æ—¥å¿—olog</p>
<p>up_thru</p>
<h2 id="peeringçŠ¶æ€è½¬æ¢å›¾"><a href="#peeringçŠ¶æ€è½¬æ¢å›¾" class="headerlink" title="peeringçŠ¶æ€è½¬æ¢å›¾"></a>peeringçŠ¶æ€è½¬æ¢å›¾</h2><h3 id="çŠ¶æ€è½¬æ¢"><a href="#çŠ¶æ€è½¬æ¢" class="headerlink" title="çŠ¶æ€è½¬æ¢"></a>çŠ¶æ€è½¬æ¢</h3><p><img src="http://oow6unnib.bkt.clouddn.com/FullSizeRender%204.jpg" alt="FullSizeRender 4"></p>
<p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>å½“è¿›å…¥primary/peeringçŠ¶æ€åï¼Œå°±è¿›å…¥é»˜è®¤å­çŠ¶æ€getinfoä¸­</p>
</li>
<li><p>çŠ¶æ€getinfoæ¥æ”¶äº‹ä»¶gotinfoåï¼Œè½¬ç§»åˆ°getlogçŠ¶æ€ä¸­</p>
</li>
<li><p>å¦‚æœçŠ¶æ€getlogæ¥æ”¶åˆ°isIncompleteäº‹ä»¶åï¼Œè·³è½¬åˆ°incompleteçŠ¶æ€</p>
</li>
<li><p>å¦‚æœgetlogæ¥æ”¶åˆ°äº‹ä»¶gotlogåï¼Œå°±è½¬å…¥getmissingçŠ¶æ€</p>
</li>
<li><p>çŠ¶æ€getmissingæ¥æ”¶åˆ°äº‹ä»¶activateäº‹ä»¶ï¼Œè½¬å…¥çŠ¶æ€active</p>
</li>
</ul>
<h2 id="ä¸‰ä¸ªé˜¶æ®µ"><a href="#ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="ä¸‰ä¸ªé˜¶æ®µ"></a>ä¸‰ä¸ªé˜¶æ®µ</h2><p>ç”±çŠ¶æ€è½¬æ¢è¿‡ç¨‹å¯çŸ¥ï¼Œpeeringè¿‡ç¨‹åŸºæœ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤</p>
<ul>
<li><strong>æ­¥éª¤ä¸€ï¼šGetInfo</strong></li>
</ul>
<p>â€‹    PGçš„ä¸»OSDé€šè¿‡å‘é€æ¶ˆæ¯è·å–æ‰€æœ‰ä»OSDçš„pg_infoä¿¡æ¯ã€‚</p>
<ul>
<li><strong>æ­¥éª¤äºŒï¼šGetLog</strong></li>
</ul>
<p>â€‹    æ ¹æ®å„ä¸ªå‰¯æœ¬è·å–çš„pg_infoä¿¡æ¯çš„æ¯”è¾ƒï¼Œé€‰æ‹©ä¸€ä¸ªæ‹¥æœ‰æƒå¨æ—¥å¿—çš„OSDã€‚å¦‚æœä¸»OSDä¸æ˜¯æ‹¥æœ‰æƒå¨æ—¥å¿—çš„OSDï¼Œå°±ä»è¯¥OSDä¸Šæ‹‰å–æƒå¨æ—¥å¿—ã€‚ä¸»OSDå®Œæˆæ‹‰å–æƒå¨æ—¥å¿—åä¹Ÿå°±æ‹¥æœ‰äº†æƒå¨æ—¥å¿—ã€‚</p>
<ul>
<li><strong>æ­¥éª¤ä¸‰ï¼šGetMissing</strong></li>
</ul>
<p>â€‹    ä¸»OSDæ‹‰å–å…¶ä»–OSDçš„PGæ—¥å¿—ã€‚é€šè¿‡ä¸æœ¬åœ°æƒå¨æ—¥å¿—çš„æ¯”è¾ƒï¼Œæ¥è®¡ç®—è¯¥OSDä¸Šç¼ºå¤±çš„objectä¿¡æ¯ï¼Œä½œä¸ºåç»­recoveræ“ä½œè¿‡ç¨‹çš„ä¾æ®ã€‚</p>
<p>æœ€åé€šè¿‡activeæ“ä½œæ¿€æ´»ä¸»OSDï¼Œå¹¶å‘é€notifyé€šçŸ¥æ¶ˆæ¯ï¼Œæ¿€æ´»ç›¸åº”çš„ä»OSDã€‚</p>
<h3 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h3><p> <img src="http://oow6unnib.bkt.clouddn.com/peering.png" alt="peering"></p>
<h2 id="GetInfo"><a href="#GetInfo" class="headerlink" title="GetInfo"></a>GetInfo</h2><p>è·å–è¯¥PGåœ¨å…¶ä»–OSDä¸Šçš„ pg_info ä¿¡æ¯ã€‚</p>
<p>å…¶ä»–OSDï¼šå½“å‰PGçš„æ´»è·ƒOSDï¼Œä»¥åŠpast intervalæœŸé—´è¯¥PGæ‰€æœ‰å¤„äºup çŠ¶æ€çš„OSDã€‚</p>
<p>Past_interval æ˜¯ epoch çš„ä¸€ä¸ªåºåˆ—ã€‚åœ¨è¯¥åºåˆ—å†…ä¸€ä¸ªPGçš„ acting set å’Œ up setä¸ä¼šå˜åŒ–ã€‚current_interval ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ past_intervalï¼Œå®ƒæ˜¯å½“å‰æœ€æ–°çš„ä¸€ä¸ªæ²¡æœ‰å˜åŒ–çš„åºåˆ—ã€‚</p>
<ul>
<li><p>1ã€è°ƒç”¨å‡½æ•° generate_past_intervals è®¡ç®— past intervals çš„å€¼</p>
<p>â€‹é€‰å–ä¸€ä¸ªepochåŒºé—´ï¼Œå¯¹åŒºé—´å†…çš„æ¯ä¸ªepochè®¡ç®—å…¶å¯¹åº”çš„acting setã€acting primaryã€up setã€up primaryï¼Œå°†ç›¸åŒçš„ç»“æœä½œä¸ºä¸€ä¸ªintervalï¼ˆä¸€ä¸ªintervalä¸­ acting set å’Œup set ä¸ä¼šå˜åŒ–ï¼‰ï¼›</p>
<p>â€‹åˆ¤æ–­æ¯ä¸ªintervalï¼Œå°†upçŠ¶æ€çš„osdåŠ å…¥åˆ°prior setï¼›åŒæ—¶å°†å½“å‰çš„ï¼ˆcurrent intervalï¼‰acting setå’Œup setåŠ å…¥åˆ°prior setï¼›</p>
</li>
<li><p>2ã€è°ƒç”¨å‡½æ•° build_prior æ„é€ è·å– pg_info_t ä¿¡æ¯çš„OSD åˆ—è¡¨</p>
<p>â€‹å‘prior_setä¸­çš„æ¯ä¸ªupçŠ¶æ€çš„osdå‘é€Query INFOè¯·æ±‚ï¼Œå¹¶ç­‰å¾…æ¥æ”¶åº”ç­”ï¼Œå°†æ¥æ”¶åˆ°çš„è¯·æ±‚ä¿å­˜åˆ°peer_infoä¸­ï¼›</p>
</li>
<li><p>3ã€è°ƒç”¨å‡½æ•° get_infos ç»™å‚ä¸çš„OSD å‘é€è·å–è¯·æ±‚</p>
<p>â€‹æ”¶åˆ°æœ€åä¸€ä¸ªåº”ç­”åï¼ŒçŠ¶æ€æœºpost eventåˆ°GotInfoçŠ¶æ€ï¼›å¦‚æœåœ¨æ­¤æœŸé—´æœ‰ä¸€ä¸ªæ¥æ”¶è¯·æ±‚çš„osd downæ‰ï¼Œè¿™ä¸ªPGçš„çŠ¶æ€å°†æŒç»­ç­‰å¾…ï¼Œç›´åˆ°å¯¹åº”çš„osdæ¢å¤ï¼›</p>
</li>
</ul>
<h2 id="GetLog"><a href="#GetLog" class="headerlink" title="GetLog"></a>GetLog</h2><p>å½“PGçš„ä¸»OSDè·å–åˆ°æ‰€æœ‰ä»OSDï¼Œä»¥åŠpast intervalæœŸé—´çš„æ‰€æœ‰å‚ä¸è¯¥PGä¸”ç›®å‰ä»å¤„äºactiveçŠ¶æ€çš„OSDçš„ pg_info ä¿¡æ¯åï¼Œå°±è·³è½¬åˆ° GetLog çŠ¶æ€ã€‚</p>
<ul>
<li>1ã€éå†peer_infoï¼ŒæŸ¥æ‰¾best infoï¼Œå°†å…¶ä½œä¸ºauthoritative logï¼›å°†acting set/peer_infoä¸­å°†å¤„äºcompleteçŠ¶æ€çš„pgä»¥åŠup setçš„æ‰€æœ‰pgå­˜å…¥acting_backfillï¼›</li>
<li>2ã€å¦‚æœè®¡ç®—å‡ºçš„authoritative logå¯¹åº”çš„pgæ˜¯è‡ªèº«ï¼Œç›´æ¥post eventåˆ°GotLogï¼›å¦åˆ™ï¼Œå‘å…¶æ‰€åœ¨çš„osdå‘é€Query Logè¯·æ±‚ï¼›</li>
<li>3ã€æ¥æ”¶è¯·æ±‚çš„osdåº”ç­”ï¼Œå¹¶å°†è·å–çš„log mergeåˆ°æœ¬åœ°ï¼ŒçŠ¶æ€æœºpost eventåˆ°GetMissingï¼›å¦‚æœæ”¶ä¸åˆ°åº”ç­”ï¼ŒçŠ¶æ€å°†æŒç»­ç­‰å¾…ï¼›</li>
</ul>
<h3 id="ologçš„é€‰æ‹©"><a href="#ologçš„é€‰æ‹©" class="headerlink" title="ologçš„é€‰æ‹©"></a>ologçš„é€‰æ‹©</h3><p>å‡½æ•° find_best_info é€‰å–æ‹¥æœ‰æƒå¨æ—¥å¿—çš„OSDï¼šå¿…é¡»æ˜¯é incomplete çš„OSDï¼Œå¿…é¡»æ‹¥æœ‰æœ€å¤§çš„ last_epoch_stratedï¼Œå…¶ä»–é€‰æ‹©ä¼˜å…ˆé¡ºåºå¦‚ä¸‹ï¼š</p>
<p>1ã€å…·æœ‰æœ€æ–°çš„ last_update çš„OSDï¼›</p>
<p>2ã€å¦‚æœæ¡ä»¶ 1 ç›¸åŒï¼Œé€‰æ‹©æ—¥å¿—æ›´é•¿çš„ï¼›</p>
<p>3ã€å¦‚æœ 1ã€2æ¡ä»¶éƒ½ç›¸åŒï¼Œé€‰æ‹©å½“å‰çš„ä¸»OSDï¼›</p>
<p>ç»è¿‡è¯¥é˜¶æ®µï¼ŒPGçš„ä¸»OSDå·²ç»è·å–äº†æƒå¨æ—¥å¿—ï¼Œä»¥åŠpg_infoçš„æƒå¨ä¿¡æ¯ã€‚</p>
<h2 id="GetMissing"><a href="#GetMissing" class="headerlink" title="GetMissing"></a>GetMissing</h2><p>é¦–å…ˆæ‹‰å–å„ä¸ªä»OSDä¸Šçš„æœ‰æ•ˆæ—¥å¿—</p>
<p>ç”¨ä¸»OSDä¸Šçš„æƒå¨æ—¥å¿—ä¸å„ä¸ªä»OSDæ—¥å¿—è¿›è¡Œå¯¹æ¯”ï¼Œè®¡ç®—å‡ºå„ä¸ªä»OSDä¸Šä¸ä¸€è‡´çš„å¯¹è±¡å¹¶ä¿å­˜åœ¨å¯¹åº”çš„ pg_missing_t ç»“æ„ä¸­ï¼Œä½œä¸ºåç»­æ•°æ®ä¿®å¤çš„ä¾æ®ã€‚</p>
<p>ä¸»OSDä¸Šä¸ä¸€è‡´çš„å¯¹è±¡ä¿¡æ¯ï¼Œå·²ç»åœ¨åˆå¹¶æƒå¨æ—¥å¿—çš„è¿‡ç¨‹ä¸­è®¡ç®—è¿‡äº†ã€‚</p>
<ul>
<li>1ã€éå†acting_backfillï¼Œå‘ä¸primary pg logæœ‰äº¤é›†çš„pgæ‰€åœ¨çš„osdå‘é€Query Logè¯·æ±‚ï¼›å°†å‰©ä½™æ²¡æœ‰äº¤é›†çš„pgæ”¾å…¥peer_missingï¼Œç”Ÿæˆmissing setç”¨äºåç»­recoveryï¼›</li>
<li>2ã€å°†æ”¶åˆ°çš„æ¯ä¸€ä¸ªåº”ç­”mergeåˆ°æœ¬åœ°ï¼Œå¦‚æœåœ¨æ­¤æœŸé—´æœ‰osd downæ‰ï¼Œè¿™ä¸ªPGçš„çŠ¶æ€å°†æŒç»­ç­‰å¾…ï¼›æ”¶åˆ°æ‰€æœ‰çš„åº”ç­”åï¼Œå½“å‰pgçš„çŠ¶æ€æœºè¿›å…¥ActivateçŠ¶æ€ï¼Œpeeringè¿‡ç¨‹ç»“æŸï¼›</li>
</ul>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ•´ä¸ªpeeringè¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼ŒGetInfo -&gt; GetLog -&gt; GetMissing</p>
<ul>
<li>é¦–å…ˆå‘prior setã€acting setã€up setä¸­çš„æ¯ä¸ªosdè¯·æ±‚pg infos, é€‰å‡ºauthoritative logå¯¹åº”çš„pg</li>
<li>å…¶æ¬¡å‘authoritative logæ‰€åœ¨çš„osdè¯·æ±‚authoritative log</li>
<li>æœ€åè·å–recoveryè¿‡ç¨‹éœ€è¦çš„missing set</li>
</ul>
<p>peeringæ—¶é—´çš„é•¿çŸ­å¹¶ä¸å¯æ§ï¼Œä¸»è¦æ˜¯åœ¨äºè¯·æ±‚çš„osdæ˜¯å¦èƒ½å¤ŸåŠæ—¶å“åº”ï¼›å¦‚æœè¿™ä¸ªé˜¶æ®µæŸä¸ªosd downæ‰ï¼Œå¾ˆå¯èƒ½å¯¼è‡´éƒ¨åˆ†pgä¸€ç›´å¤„åœ¨peeringçŠ¶æ€ï¼Œå³æ‰€æœ‰åˆ†å¸ƒåˆ°è¿™ä¸ªpgä¸Šçš„IOéƒ½ä¼šé˜»å¡ã€‚</p>
<h3 id="åç»­activeæ“ä½œ"><a href="#åç»­activeæ“ä½œ" class="headerlink" title="åç»­activeæ“ä½œ"></a>åç»­activeæ“ä½œ</h3><p>getmissingæ“ä½œæˆåŠŸåï¼Œå°±è·³è½¬åˆ°activateçŠ¶æ€ã€‚åˆ°æœ¬é˜¶æ®µä¸ºæ­¢ï¼Œpeeringçš„ä¸»è¦å·¥ä½œå·²å®Œæˆï¼Œè¿™é‡Œæ˜¯åç»­å¤„ç†ï¼Œæ¿€æ´»å„ä¸ªå‰¯æœ¬ã€‚</p>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p>ä¸ºäº†å‡å°‘peeringè¿‡ç¨‹å¯¹clienté€ æˆçš„å½±å“ï¼Œç¤¾åŒºæå‡ºFaster Peeringï¼Œè¯¥planä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<p>1ï¼‰å‘æœ€è¿‘prior set intervalä¸­çš„osdè¯·æ±‚log+missingï¼Œè·³è¿‡GetLogé˜¶æ®µï¼›</p>
<p>2ï¼‰å‘acting setå’Œup setä¸­çš„osdè¯·æ±‚log+missingï¼Œè·³è¿‡GetMissingé˜¶æ®µï¼›</p>
<p>éƒ¨åˆ†å‚è€ƒèµ„æ–™ï¼š<a href="https://www.ustack.com/blog/ceph%EF%BC%8Dpg-peering/" target="_blank" rel="external">Cephï¼špg peeringè¿‡ç¨‹åˆ†æ</a></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/">ceph peeringè¿‡ç¨‹åˆ†æ</a></p>
        <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="å›åˆ°ä¸»é¡µ">å¤å¤©çš„é£</a></p>
        <p><span>å‘å¸ƒæ—¶é—´:</span>2017-08-01, 16:47:05</p>
        <p><span>æœ€åæ›´æ–°:</span>2017-08-01, 17:01:33</p>
        <p>
            <span>åŸå§‹é“¾æ¥:</span><a class="post-url" href="/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/" title="ceph peeringè¿‡ç¨‹åˆ†æ">http://xiaqunfeng.cc/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/</a>
            <span class="copy-path" data-clipboard-text="åŸæ–‡: http://xiaqunfeng.cc/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/ã€€ã€€ä½œè€…: å¤å¤©çš„é£" title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"ç½²å-éå•†ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0"</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2017/08/03/ä¸ºä»€ä¹ˆå¯¹äºä¼ä¸šNASæ¥è¯´NFS-ganeshaæ˜¯ä¸€ä¸ªæ›´å¥½çš„NFS-server/">
                    ä¸ºä»€ä¹ˆå¯¹äºä¼ä¸šNASæ¥è¯´NFS-ganeshaæ˜¯ä¸€ä¸ªæ›´å¥½çš„NFS server
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2017/07/28/ceph-placement-group/">
                    ceph placement group
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#è§¦å‘åœºæ™¯"><span class="toc-number">1.</span> <span class="toc-text">è§¦å‘åœºæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸€äº›æ¦‚å¿µ"><span class="toc-number">2.</span> <span class="toc-text">ä¸€äº›æ¦‚å¿µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#peeringçŠ¶æ€è½¬æ¢å›¾"><span class="toc-number">3.</span> <span class="toc-text">peeringçŠ¶æ€è½¬æ¢å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#çŠ¶æ€è½¬æ¢"><span class="toc-number">3.1.</span> <span class="toc-text">çŠ¶æ€è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸‰ä¸ªé˜¶æ®µ"><span class="toc-number">4.</span> <span class="toc-text">ä¸‰ä¸ªé˜¶æ®µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æµç¨‹å›¾"><span class="toc-number">4.1.</span> <span class="toc-text">æµç¨‹å›¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetInfo"><span class="toc-number">5.</span> <span class="toc-text">GetInfo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetLog"><span class="toc-number">6.</span> <span class="toc-text">GetLog</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ologçš„é€‰æ‹©"><span class="toc-number">6.1.</span> <span class="toc-text">ologçš„é€‰æ‹©</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GetMissing"><span class="toc-number">7.</span> <span class="toc-text">GetMissing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å°ç»“"><span class="toc-number">8.</span> <span class="toc-text">å°ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#åç»­activeæ“ä½œ"><span class="toc-number">8.1.</span> <span class="toc-text">åç»­activeæ“ä½œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¼˜åŒ–"><span class="toc-number">9.</span> <span class="toc-text">ä¼˜åŒ–</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="éšè—ç›®å½•"  title="ç‚¹å‡»æŒ‰é’®éšè—æˆ–è€…æ˜¾ç¤ºæ–‡ç« ç›®å½•">

    <script>
        yiliaConfig.toc = ["éšè—ç›®å½•", "æ˜¾ç¤ºç›®å½•", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="åˆ†äº«åˆ°æ¨ç‰¹"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="åˆ†äº«ç»™ QQ å¥½å‹"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="å¤åˆ¶ç½‘å€"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="é€šè¿‡é‚®ä»¶åˆ†äº«"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="ç”Ÿæˆæ–‡ç« äºŒç»´ç "></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"ceph peeringè¿‡ç¨‹åˆ†æã€€| å¤å¤©çš„é£çš„åšå®¢ã€€","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
        <section id="comments">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'http://xiaqunfeng.cc/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/';
            this.page.identifier = '2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//null.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>

</section>


    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/08/03/ä¸ºä»€ä¹ˆå¯¹äºä¼ä¸šNASæ¥è¯´NFS-ganeshaæ˜¯ä¸€ä¸ªæ›´å¥½çš„NFS-server/" title="ä¸Šä¸€ç¯‡: ä¸ºä»€ä¹ˆå¯¹äºä¼ä¸šNASæ¥è¯´NFS-ganeshaæ˜¯ä¸€ä¸ªæ›´å¥½çš„NFS server">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="æ–‡ç« åˆ—è¡¨"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2017/07/28/ceph-placement-group/" title="ä¸‹ä¸€ç¯‡: ceph placement group">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/03/08/ceph-osdæƒé‡è°ƒæ•´/">ceph osdæƒé‡è°ƒæ•´</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/04/ceph-luminousæœ€ä½³éƒ¨ç½²å®è·µ/">ceph luminousæœ€ä½³éƒ¨ç½²å®è·µ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/28/ceph-iscsiç½‘å…³/">ceph iscsiç½‘å…³</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/28/ceph-ansibleä½¿ç”¨æ‰‹å†Œ/">ceph ansibleä½¿ç”¨æ‰‹å†Œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/14/Faster-R-CNN/">ã€è®ºæ–‡é˜…è¯»ã€‘Faster-R-CNN</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/05/faster-r-cnn-generate-anchors/">ã€ä»£ç é˜…è¯»ã€‘generate_anchors.py</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/25/Fast-R-CNN/">ã€è®ºæ–‡é˜…è¯»ã€‘Fast R-CNN</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/24/R-CNN/">ã€è®ºæ–‡é˜…è¯»ã€‘R-CNN</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/cephå†™æµç¨‹åˆ†æ/">cephå†™æµç¨‹åˆ†æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/05/macä¸Šå®‰è£…caffeå¹¶è®­ç»ƒmnist/">macä¸Šå®‰è£…caffeå¹¶è®­ç»ƒmnist</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/27/cephæŒ‡å®šç‰ˆæœ¬å®‰è£…/">cephæŒ‡å®šç‰ˆæœ¬å®‰è£…</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/21/linux-command-day-day-up/">linux command day day up</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/awk-study-notes/">awk study notes</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/18/ceph-PGs-per-Pool-Calculator/">ceph PGs per Pool Calculator</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/15/too-many-PGs-per-OSD/">too many PGs per OSD</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/11/macä¸Šå®‰è£…python3/">macä¸Šå®‰è£…python3</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/30/lsblkå‘½ä»¤/">lsblkå‘½ä»¤</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/29/Syntax-error-unexpected/">Syntax error: '(' unexpected</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/17/ceph-osdç›¸å…³æ“ä½œ/">ceph osdç›¸å…³æ“ä½œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/07/gitå¸¸ç”¨å‘½åæ€»ç»“/">gitå¸¸ç”¨å‘½åæ€»ç»“</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/05/python3-OS-module/">python3 OS module</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/03/ä¸ºä»€ä¹ˆå¯¹äºä¼ä¸šNASæ¥è¯´NFS-ganeshaæ˜¯ä¸€ä¸ªæ›´å¥½çš„NFS-server/">ä¸ºä»€ä¹ˆå¯¹äºä¼ä¸šNASæ¥è¯´NFS-ganeshaæ˜¯ä¸€ä¸ªæ›´å¥½çš„NFS server</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/01/ceph-peeringè¿‡ç¨‹åˆ†æ/">ceph peeringè¿‡ç¨‹åˆ†æ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/28/ceph-placement-group/">ceph placement group</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/28/Remove-Big-RBD-Image/">Remove Big RBD Image</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/17/centosä¸‹cephéƒ¨ç½²/">centosä¸‹cephéƒ¨ç½²</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/17/cephéƒ¨ç½²å®Œå…¨æ‰‹å†Œ/">cephéƒ¨ç½²å®Œå…¨æ‰‹å†Œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/12/fioæµ‹è¯•ceph/">fioæµ‹è¯•ceph</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/07/centos7ä¸Šå®‰è£…python3/">centos7ä¸Šå®‰è£…python3</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/06/XFS-vs-EXT4/">XFS vs EXT4</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/06/ceph-luminousæ–°å‘½ä»¤æ¢ç´¢/">ceph luminousæ–°å‘½ä»¤æ¢ç´¢</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/04/ceph-Luminousæ–°åŠŸèƒ½ä¹‹crush-class/">ceph Luminousæ–°åŠŸèƒ½ä¹‹crush class</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/ceph-Luminousåˆæ¢/">ceph Luminous dashboardåˆæ¢</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/28/Ceph-v12-1-0-Luminous-RC-released/">Ceph v12.1.0 Luminous RC released</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/23/wgetæ‰¹é‡ä¸‹è½½httpç›®å½•åŠæ–‡ä»¶/">wgetæ‰¹é‡ä¸‹è½½httpç›®å½•åŠæ–‡ä»¶</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/16/å…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„åŒºåˆ«/">å…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„åŒºåˆ«</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/16/centos-7ä¸‹æ“çºµcephè¿›ç¨‹/">centos 7ä¸‹æ“çºµcephè¿›ç¨‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/15/vimç§»åŠ¨å…‰æ ‡/">vimç§»åŠ¨å…‰æ ‡</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/07/Map-RBD-Devices-on-NBD/">Map RBD Devices on NBD</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/06/ceph-rbd-map-failed/">ceph rbd map failed</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/26/ceph-monæ—¶é’Ÿåç§»é—®é¢˜/">ceph monæ—¶é’Ÿåç§»é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/26/GPG-key-retrieval-failure/">GPG key retrieval failure</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/25/macä¸Šå®ç°vimçš„markdowné¢„è§ˆ/">macä¸Šå®ç°vimçš„markdowné¢„è§ˆ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/23/cephæ—¥å¿—è¿ç§»/">cephæ—¥å¿—è¿ç§»</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/11/cpuæ‹“æ‰‘ç»“æ„/">cpuæ‹“æ‰‘åŠcephä½¿ç”¨æ—¶çš„ä¼˜åŒ–</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/07/firewalldå’Œiptables/">firewalldå’Œiptables</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/07/S-M-A-R-T-ç£ç›˜å¥åº·çŠ¶æ€ç›‘æµ‹å·¥å…·/">S.M.A.R.T--ç£ç›˜å¥åº·çŠ¶æ€ç›‘æµ‹å·¥å…·</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/04/iterm2é…è‰²/">iterm2é…è‰²--zsh & oh-my-zsh</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/03/nginxä½¿ç”¨å’Œé…ç½®/">nginxä½¿ç”¨å’Œé…ç½®</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/02/iterm2å¿«æ·é”®çš„ä½¿ç”¨/">iterm2å¿«æ·é”®çš„ä½¿ç”¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/02/VSMéƒ¨ç½²/">VSMéƒ¨ç½²</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/å¸¸ç”¨gitå‘½ä»¤æ¸…å•/">å¸¸ç”¨gitå‘½ä»¤æ¸…å•</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/ç†è§£socketç¼–ç¨‹/">ç†è§£socketç¼–ç¨‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/09/cowå’Œrowå¿«ç…§æœºåˆ¶çš„åŒºåˆ«/">cowå’Œrowå¿«ç…§æœºåˆ¶çš„åŒºåˆ«</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/09/Machine-Learning-Yearning-5ã€6/">Machine Learning Yearning(5ã€6ã€7)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/Machine-Learning-Yearning-3ã€4/">Machine Learning Yearning(3ã€4)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/02/Machine-Learning-Yearning-å¼€ç¯‡ã€1ã€2/">Machine Learning Yearning(å¼€ç¯‡ã€1ã€2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/01/å¼‚æ­¥IO/">å¼‚æ­¥IO</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/Bluestoreè°ƒç ”/">Bluestoreè°ƒç ”</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/RocksDBç›¸æ¯”LevelDBçš„æ–°ç‰¹æ€§/">RocksDBç›¸æ¯”LevelDBçš„æ–°ç‰¹æ€§</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/20/Kernel modules (ç®€ä½“ä¸­æ–‡)/">Kernel modules (ç®€ä½“ä¸­æ–‡)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/17/Linuxå‘½ä»¤â€”â€”pgrepå’Œpkill/">Linuxå‘½ä»¤â€”â€”pgrepå’Œpkill</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/Linuxå‘½ä»¤â€”â€”strace/">Linuxå‘½ä»¤â€”â€”strace</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/10/è·å–æ¯ä¸ªosdçš„PGæ•°/">è·å–æ¯ä¸ªosdçš„PGæ•°</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/10/RBD-ç›¸å…³æ“ä½œ/">RBD ç›¸å…³æ“ä½œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/07/åœ¨Kraken-releaseç‰ˆæœ¬ä¸Šæµ‹è¯•Ceph-BlueStore/">åœ¨Kraken releaseç‰ˆæœ¬ä¸Šæµ‹è¯•Ceph BlueStore</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/04/ç”¨æˆ·æ€å’Œå†…æ ¸æ€/">ç”¨æˆ·æ€å’Œå†…æ ¸æ€</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/04/cephå‡çº§åˆ°krakenç‰ˆæœ¬/">cephå‡çº§åˆ°krakenç‰ˆæœ¬</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/Dm-cache-vs-Bcache/">Dm-cache vs Bcache</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/Flashcache-vs-Cache-tier/">Flashcache vs Cache tier</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/25/Linuxå‘½ä»¤â€”â€”parted/">Linuxå‘½ä»¤â€”â€”parted</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/25/è®¤è¯†SSD/">è®¤è¯†SSD</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/24/Ceph-KRAKEN(V11.2.0)/">Ceph â€” V11.2.0 KRAKEN(è¯‘)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/24/Crushmapå­¦ä¹ /">Crushmapå­¦ä¹ </a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/20/Cephä¸­ä¸¥é‡æ•°æ®ä¸ä¸€è‡´æ€§BUG/">Cephä¸­ä¸¥é‡æ•°æ®ä¸ä¸€è‡´æ€§BUG</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/20/å—å­˜å‚¨çš„ä¸–ç•Œ/">å—å­˜å‚¨çš„ä¸–ç•Œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/17/Linuxå‘½ä»¤â€”â€”uptime/">Linuxå‘½ä»¤â€”â€”uptime</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/12/ddç£ç›˜å‘½ä»¤å°è®°/">ddç£ç›˜å‘½ä»¤å°è®°</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/12/è§£å†³calamariæ— æ³•è·å–é›†ç¾¤hostsä¿¡æ¯çš„BUG/">è§£å†³calamariæ— æ³•è·å–é›†ç¾¤hostsä¿¡æ¯çš„BUG</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/11/ubuntuä¸‹é…ç½®é‚®ä»¶å‘é€/">ubuntuä¸‹é…ç½®é‚®ä»¶å‘é€</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/11/ubuntuä¸‹ç³»ç»Ÿæ‰“åŒ…/">ubuntuä¸‹ç³»ç»Ÿæ‰“åŒ…</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/11/Linuxå‘½ä»¤â€”â€”historyåŠå…¶ä¼˜åŒ–/">Linuxå‘½ä»¤â€”â€”historyåŠå…¶ä¼˜åŒ–</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/11/Linuxä¸‹åˆ©ç”¨screenè¿›è¡Œå±å¹•åä½œ/">Linuxä¸‹åˆ©ç”¨screenè¿›è¡Œå±å¹•åä½œ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/11/Linuxå‘½ä»¤â€”â€”crontab/">Linuxå‘½ä»¤â€”â€”crontab</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/06/hexoçš„æ­å»º/">Macä¸Šhexoåšå®¢çš„æ­å»º</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2017-2018 å¤å¤©çš„é£
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="ç®€è€Œä¸å‡ Hexo åŒæ åšå®¢ä¸»é¢˜  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>





<div class="scroll" id="scroll">
    <a href="#" title="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="æŸ¥çœ‹è¯„è®º"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="è½¬åˆ°åº•éƒ¨"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>